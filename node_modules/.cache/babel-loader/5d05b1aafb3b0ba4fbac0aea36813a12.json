{"ast":null,"code":"import _classCallCheck from\"/Users/akashsuryavanshi/Dropbox/My Mac (Akashs-iMac.local)/Documents/Tunex Workspace/Git Repo/MusicApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/akashsuryavanshi/Dropbox/My Mac (Akashs-iMac.local)/Documents/Tunex Workspace/Git Repo/MusicApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/akashsuryavanshi/Dropbox/My Mac (Akashs-iMac.local)/Documents/Tunex Workspace/Git Repo/MusicApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/akashsuryavanshi/Dropbox/My Mac (Akashs-iMac.local)/Documents/Tunex Workspace/Git Repo/MusicApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import Axios from\"axios\";import React,{Component}from\"react\";import artistImage from\"../../../Assets/image/sliderImage/1.jpg\";import\"./ArtistDetails.scss\";import ActionPopover from\"../../ReusableComponents/ActionPopover/ActionPopover\";import{artistsDetails,setMusicData,getChartDetails,genresMusic,genres,retroClassic,hideLoader,downloadSong,getActiveIndex}from\"../../../Actions\";import{withRouter}from\"react-router-dom\";import{connect}from\"react-redux\";import{NavLink,Link}from\"react-router-dom\";import{saveAs}from\"file-saver\";import download from\"downloadjs\";import axios from\"axios\";import fileDownload from\"js-file-download\";var ArtistDetails=/*#__PURE__*/function(_Component){_inherits(ArtistDetails,_Component);var _super=_createSuper(ArtistDetails);function ArtistDetails(){var _this;_classCallCheck(this,ArtistDetails);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={tabValue:\"topSongs\",activeMusic:false,playIndex:null,rightSideAction:false,positionIndex:0,songId:\"\",songName:\"\",allSongs:[]};_this.artistDetails=function(){_this.props.artistsDetails(_this.props.match.params.musics);};_this.getChartDetails=function(){_this.props.getChartDetails(_this.props.match.params.musics);};_this.genresMusic=function(){_this.props.genresMusic(_this.props.match.params.musics);};_this.retroClassic=function(){_this.props.retroClassic(_this.props.match.params.musics);};_this.getData=function(songData,id){{_this.props.setMusicData(songData,id);}};_this.handleTabChange=function(tabName){_this.setState({tabValue:tabName});};_this.playAll=function(allSongData){_this.props.setMusicData(allSongData);};_this.downloadSong=function(){var url=\"http://localhost:4000/songs/download/\"+_this.state.songId;axios.get(url,{responseType:\"blob\",headers:{Accept:\"*/*\",\"Content-Type\":\"audio/mpeg\"}}).then(function(res){var url=window.URL.createObjectURL(res.data);var a=document.createElement(\"a\");a.href=res.config.url;a.download=_this.state.songName+\".mp3\";a.click();});_this.setState({rightSideAction:!_this.state.rightSideAction});};_this.handleDropdownChange=function(index,songId,songName,wholeSongData){_this.setState({rightSideAction:!_this.state.rightSideAction,positionIndex:index,songId:songId,songName:songName,allSongs:wholeSongData});};_this.addQueue=function(){console.log(_this.props.queueList.length,\"ZZzzzzzzzzzzz\");if(_this.props.queueList.length===0){_this.getData(_this.state.allSongs,_this.state.songId);}_this.props.getActiveIndex(null,_this.state.allSongs);_this.setState({rightSideAction:!_this.state.rightSideAction});};return _this;}_createClass(ArtistDetails,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.match.params.type===\"chartsData\"){this.getChartDetails();}if(this.props.match.params.type===\"artistData\"){this.artistDetails();}if(this.props.match.params.type===\"genresData\"){this.genresMusic();}if(this.props.match.params.type===\"hitsArtistData\"){this.retroClassic();}}},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){if(nextProps.activeSongIndex){this.setState({playIndex:nextProps.activeSongIndex});}if(nextProps.queueList.length===0){this.setState({playIndex:null});}}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,rightSideAction=_this$state.rightSideAction,positionIndex=_this$state.positionIndex;var transform;if(positionIndex===0){transform=\"translate3d(775px, 234px, 0px)\";}else if(positionIndex===1){transform=\"translate3d(775px, 288px, 0px)\";}else if(positionIndex===2){transform=\"translate3d(775px, 342px, 0px)\";}else if(positionIndex===3){transform=\"translate3d(775px, 396px, 0px)\";}else if(positionIndex===4){transform=\"translate3d(775px, 450px, 0px)\";}else if(positionIndex===5){transform=\"translate3d(775px, 504px, 0px)\";}else if(positionIndex===6){transform=\"translate3d(775px, 558px, 0px)\";}else if(positionIndex===7){transform=\"translate3d(775px, 612px, 0px)\";}var artistData,songsData;if(this.props.currentState===\"topCharts\"){artistData=this.props.topCharts.artists;songsData=this.props.topCharts.songs;}else if(this.props.currentState===\"artistSongs\"){artistData=this.props.artistDetails.artists;songsData=this.props.artistDetails.songs;}else if(this.props.currentState===\"genresMusic\"){artistData=this.props.genres.artists;songsData=this.props.genres.songs;}else if(this.props.currentState===\"retroClassic\"){artistData=this.props.retroClassics.artists;songsData=this.props.retroClassics.songs;}var activeMusic=this.state.activeMusic;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[artistData&&artistData.map(function(data,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"row section text-centre text-md-left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-3 col-lg-4 col-sm-5 song-header-image\",children:/*#__PURE__*/_jsx(\"img\",{src:data.artistImage||data.chartImage||data.genresImage||data.hitsArtistImage,alt:\"artist-image\",className:\"card-img--radius-lg\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-9 col-lg-8 col-sm-7\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row pt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-xl-8 col-lg-6\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"artist-name\",children:data.artistName||data.chartName||data.genresName||\"Hits Of \"+data.hitsArtistName}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-pill btn-air btn-bold btn-danger play-all\",onClick:function onClick(e){return _this2.playAll(songsData);},children:\"Play all\"})})]})})})]},index);}),/*#__PURE__*/_jsx(\"div\",{className:\"section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"custom-list\",children:[/*#__PURE__*/_jsxs(\"ul\",{className:\"s_l s_h desktopflex\",style:{margin:\"0\"},children:[/*#__PURE__*/_jsx(\"li\",{className:\"s_cnt\",children:/*#__PURE__*/_jsx(\"span\",{className:\"row-head\",children:\"#\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"s_title\",children:/*#__PURE__*/_jsx(\"span\",{className:\"row-head\",children:\"Title\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"s_artist\",children:/*#__PURE__*/_jsx(\"span\",{className:\"row-head\",children:\"Artists\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"s_duration\",children:/*#__PURE__*/_jsx(\"span\",{className:\"row-head\",children:\"Duration\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"s_download-icon\",children:/*#__PURE__*/_jsx(\"span\",{className:\"row-head\"})})]}),/*#__PURE__*/_jsx(\"ul\",{style:{listStyle:\"none\",padding:\"0\"},children:songsData&&songsData.map(function(data,index){return/*#__PURE__*/_jsx(\"li\",{className:_this2.state.playIndex===data._id?\"active-music\":\"songs-row\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"a_l artworkload _cursor\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"s_cnt p_cnt desktop\",onClick:function onClick(e){return _this2.getData(songsData,data._id);},children:/*#__PURE__*/_jsx(\"span\",{className:\"_c sng_c\",children:index+1})}),/*#__PURE__*/_jsx(\"li\",{className:\"s_title p_title list loaded\",onClick:function onClick(e){return _this2.getData(songsData,data._id);},children:/*#__PURE__*/_jsxs(\"div\",{className:\"playlist-data\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"playlist_thumb\",children:/*#__PURE__*/_jsx(\"img\",{src:data.songImage,alt:\"song_image\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"playlist_thumb_det\",children:/*#__PURE__*/_jsx(\"span\",{className:\"songs\",children:data.songName})})]})}),/*#__PURE__*/_jsx(\"li\",{className:\"s_artist p_artist desktop\",onClick:function onClick(e){return _this2.getData(songsData,data._id);},children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"sng_c\",children:data.artistName})})}),/*#__PURE__*/_jsx(\"li\",{className:\"s_duration\",onClick:function onClick(e){return _this2.getData(songsData,data._id);},children:/*#__PURE__*/_jsx(\"span\",{className:\"desktop sng_c\",style:{width:\"40%\",textAlign:\"center\"},children:data.duration})}),/*#__PURE__*/_jsx(\"li\",{className:\"s_download-icon\",onClick:function onClick(e){return _this2.handleDropdownChange(index,data._id,data.songName,[data]);}// onClick={() =>\n//   this.downloadSong(data._id, data.songName)\n// }\n,children:/*#__PURE__*/_jsx(\"span\",{className:\"sng_c\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-ellipsis-h\",style:{fontSize:\"1.3rem\"}})})})]})},index);})}),/*#__PURE__*/_jsx(ActionPopover,{dropdownExpand:rightSideAction,transform:transform,downloadSong:this.downloadSong,addQueue:this.addQueue// download={this.downloadSong(\n//   this.state.songId,\n//   this.state.songName\n// )}\n})]})})]})});}}]);return ArtistDetails;}(Component);var MapStateToProps=function MapStateToProps(state){return{artistDetails:state.home.artistDetails,topCharts:state.home.topCharts,genres:state.home.genresMusic,currentState:state.home.currentData,retroClassics:state.home.retroClassicMusic,activeSongIndex:state.home.activeIndex,downloadUrl:state.home.downloadFile,queueList:state.home.queueSongs};};export default withRouter(connect(MapStateToProps,{artistsDetails:artistsDetails,setMusicData:setMusicData,getChartDetails:getChartDetails,genresMusic:genresMusic,retroClassic:retroClassic,hideLoader:hideLoader,downloadSong:downloadSong,getActiveIndex:getActiveIndex})(ArtistDetails));","map":{"version":3,"sources":["/Users/akashsuryavanshi/Dropbox/My Mac (Akashs-iMac.local)/Documents/Tunex Workspace/Git Repo/MusicApp/src/Components/ContentComponents/ArtistDetails/ArtistDetails.jsx"],"names":["Axios","React","Component","artistImage","ActionPopover","artistsDetails","setMusicData","getChartDetails","genresMusic","genres","retroClassic","hideLoader","downloadSong","getActiveIndex","withRouter","connect","NavLink","Link","saveAs","download","axios","fileDownload","ArtistDetails","state","tabValue","activeMusic","playIndex","rightSideAction","positionIndex","songId","songName","allSongs","artistDetails","props","match","params","musics","getData","songData","id","handleTabChange","tabName","setState","playAll","allSongData","url","get","responseType","headers","Accept","then","res","window","URL","createObjectURL","data","a","document","createElement","href","config","click","handleDropdownChange","index","wholeSongData","addQueue","console","log","queueList","length","type","nextProps","activeSongIndex","transform","artistData","songsData","currentState","topCharts","artists","songs","retroClassics","map","chartImage","genresImage","hitsArtistImage","artistName","chartName","genresName","hitsArtistName","e","margin","listStyle","padding","_id","songImage","width","textAlign","duration","fontSize","MapStateToProps","home","currentData","retroClassicMusic","activeIndex","downloadUrl","downloadFile","queueSongs"],"mappings":"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","sourcesContent":["import Axios from \"axios\";\nimport React, { Component } from \"react\";\nimport artistImage from \"../../../Assets/image/sliderImage/1.jpg\";\nimport \"./ArtistDetails.scss\";\nimport ActionPopover from \"../../ReusableComponents/ActionPopover/ActionPopover\";\nimport {\n  artistsDetails,\n  setMusicData,\n  getChartDetails,\n  genresMusic,\n  genres,\n  retroClassic,\n  hideLoader,\n  downloadSong,\n  getActiveIndex,\n} from \"../../../Actions\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { NavLink, Link } from \"react-router-dom\";\nimport { saveAs } from \"file-saver\";\nimport download from \"downloadjs\";\nimport { exact } from \"prop-types\";\nimport axios from \"axios\";\nimport fileDownload from \"js-file-download\";\nclass ArtistDetails extends Component {\n  state = {\n    tabValue: \"topSongs\",\n    activeMusic: false,\n    playIndex: null,\n    rightSideAction: false,\n    positionIndex: 0,\n    songId: \"\",\n    songName: \"\",\n    allSongs: [],\n  };\n  componentDidMount() {\n    if (this.props.match.params.type === \"chartsData\") {\n      this.getChartDetails();\n    }\n    if (this.props.match.params.type === \"artistData\") {\n      this.artistDetails();\n    }\n    if (this.props.match.params.type === \"genresData\") {\n      this.genresMusic();\n    }\n    if (this.props.match.params.type === \"hitsArtistData\") {\n      this.retroClassic();\n    }\n  }\n\n  artistDetails = () => {\n    this.props.artistsDetails(this.props.match.params.musics);\n  };\n\n  getChartDetails = () => {\n    this.props.getChartDetails(this.props.match.params.musics);\n  };\n\n  genresMusic = () => {\n    this.props.genresMusic(this.props.match.params.musics);\n  };\n\n  retroClassic = () => {\n    this.props.retroClassic(this.props.match.params.musics);\n  };\n\n  getData = (songData, id) => {\n    {\n      this.props.setMusicData(songData, id);\n    }\n  };\n\n  handleTabChange = (tabName) => {\n    this.setState({\n      tabValue: tabName,\n    });\n  };\n\n  playAll = (allSongData) => {\n    this.props.setMusicData(allSongData);\n  };\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.activeSongIndex) {\n      this.setState({\n        playIndex: nextProps.activeSongIndex,\n      });\n    }\n    if (nextProps.queueList.length === 0) {\n      this.setState({\n        playIndex: null,\n      });\n    }\n  }\n\n  downloadSong = () => {\n    const url = \"http://localhost:4000/songs/download/\" + this.state.songId;\n    axios\n      .get(url, {\n        responseType: \"blob\",\n        headers: {\n          Accept: \"*/*\",\n          \"Content-Type\": \"audio/mpeg\",\n        },\n      })\n      .then((res) => {\n        let url = window.URL.createObjectURL(res.data);\n        let a = document.createElement(\"a\");\n        a.href = res.config.url;\n        a.download = this.state.songName + \".mp3\";\n        a.click();\n      });\n    this.setState({\n      rightSideAction: !this.state.rightSideAction,\n    });\n  };\n\n  handleDropdownChange = (index, songId, songName, wholeSongData) => {\n    this.setState({\n      rightSideAction: !this.state.rightSideAction,\n      positionIndex: index,\n      songId: songId,\n      songName: songName,\n      allSongs: wholeSongData,\n    });\n  };\n\n  addQueue = () => {\n    console.log(this.props.queueList.length, \"ZZzzzzzzzzzzz\");\n\n    if (this.props.queueList.length === 0) {\n      this.getData(this.state.allSongs, this.state.songId);\n    }\n    this.props.getActiveIndex(null, this.state.allSongs);\n    this.setState({\n      rightSideAction: !this.state.rightSideAction,\n    });\n  };\n\n  render() {\n    const { rightSideAction, positionIndex } = this.state;\n    let transform;\n\n    if (positionIndex === 0) {\n      transform = \"translate3d(775px, 234px, 0px)\";\n    } else if (positionIndex === 1) {\n      transform = \"translate3d(775px, 288px, 0px)\";\n    } else if (positionIndex === 2) {\n      transform = \"translate3d(775px, 342px, 0px)\";\n    } else if (positionIndex === 3) {\n      transform = \"translate3d(775px, 396px, 0px)\";\n    } else if (positionIndex === 4) {\n      transform = \"translate3d(775px, 450px, 0px)\";\n    } else if (positionIndex === 5) {\n      transform = \"translate3d(775px, 504px, 0px)\";\n    } else if (positionIndex === 6) {\n      transform = \"translate3d(775px, 558px, 0px)\";\n    } else if (positionIndex === 7) {\n      transform = \"translate3d(775px, 612px, 0px)\";\n    }\n\n    let artistData, songsData;\n    if (this.props.currentState === \"topCharts\") {\n      artistData = this.props.topCharts.artists;\n      songsData = this.props.topCharts.songs;\n    } else if (this.props.currentState === \"artistSongs\") {\n      artistData = this.props.artistDetails.artists;\n      songsData = this.props.artistDetails.songs;\n    } else if (this.props.currentState === \"genresMusic\") {\n      artistData = this.props.genres.artists;\n      songsData = this.props.genres.songs;\n    } else if (this.props.currentState === \"retroClassic\") {\n      artistData = this.props.retroClassics.artists;\n      songsData = this.props.retroClassics.songs;\n    }\n\n    const { activeMusic } = this.state;\n\n    return (\n      <div>\n        <div>\n          {artistData &&\n            artistData.map((data, index) => {\n              return (\n                <div\n                  className=\"row section text-centre text-md-left\"\n                  key={index}\n                >\n                  <div className=\"col-xl-3 col-lg-4 col-sm-5 song-header-image\">\n                    <img\n                      src={\n                        data.artistImage ||\n                        data.chartImage ||\n                        data.genresImage ||\n                        data.hitsArtistImage\n                      }\n                      alt=\"artist-image\"\n                      className=\"card-img--radius-lg\"\n                    />\n                  </div>\n                  <div className=\"col-xl-9 col-lg-8 col-sm-7\">\n                    <div className=\"row pt-4\">\n                      <div className=\"col-xl-8 col-lg-6\">\n                        <h5 className=\"artist-name\">\n                          {data.artistName ||\n                            data.chartName ||\n                            data.genresName ||\n                            \"Hits Of \" + data.hitsArtistName}\n                        </h5>\n                        <div className=\"mt-4\">\n                          <button\n                            className=\"btn btn-pill btn-air btn-bold btn-danger play-all\"\n                            onClick={(e) => this.playAll(songsData)}\n                          >\n                            Play all\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              );\n            })}\n\n          <div className=\"section\">\n            <div className=\"custom-list\">\n              <ul className=\"s_l s_h desktopflex\" style={{ margin: \"0\" }}>\n                <li className=\"s_cnt\">\n                  <span className=\"row-head\">#</span>\n                </li>\n                <li className=\"s_title\">\n                  <span className=\"row-head\">Title</span>\n                </li>\n                <li className=\"s_artist\">\n                  <span className=\"row-head\">Artists</span>\n                </li>\n                <li className=\"s_duration\">\n                  <span className=\"row-head\">\n                    Duration\n                    {/* <i class=\"far fa-clock\"></i> */}\n                  </span>\n                </li>\n                <li className=\"s_download-icon\">\n                  <span className=\"row-head\">\n                    {/* <i class=\"fas fa-download\"></i> */}\n                  </span>\n                </li>\n              </ul>\n              <ul style={{ listStyle: \"none\", padding: \"0\" }}>\n                {songsData &&\n                  songsData.map((data, index) => {\n                    return (\n                      <li\n                        key={index}\n                        className={\n                          this.state.playIndex === data._id\n                            ? \"active-music\"\n                            : \"songs-row\"\n                        }\n                      >\n                        <ul className=\"a_l artworkload _cursor\">\n                          <li\n                            className=\"s_cnt p_cnt desktop\"\n                            onClick={(e) => this.getData(songsData, data._id)}\n                          >\n                            <span className=\"_c sng_c\">{index + 1}</span>\n                          </li>\n                          <li\n                            className=\"s_title p_title list loaded\"\n                            onClick={(e) => this.getData(songsData, data._id)}\n                          >\n                            <div className=\"playlist-data\">\n                              <div className=\"playlist_thumb\">\n                                <img src={data.songImage} alt=\"song_image\" />\n                              </div>\n                              <div className=\"playlist_thumb_det\">\n                                <span className=\"songs\">{data.songName}</span>\n                              </div>\n                            </div>\n                          </li>\n                          <li\n                            className=\"s_artist p_artist desktop\"\n                            onClick={(e) => this.getData(songsData, data._id)}\n                          >\n                            <div>\n                              <span className=\"sng_c\">{data.artistName}</span>\n                            </div>\n                          </li>\n                          <li\n                            className=\"s_duration\"\n                            onClick={(e) => this.getData(songsData, data._id)}\n                          >\n                            <span\n                              className=\"desktop sng_c\"\n                              style={{ width: \"40%\", textAlign: \"center\" }}\n                            >\n                              {data.duration}\n                            </span>\n                          </li>\n                          <li\n                            className=\"s_download-icon\"\n                            onClick={(e) =>\n                              this.handleDropdownChange(\n                                index,\n                                data._id,\n                                data.songName,\n                                [data]\n                              )\n                            }\n                            // onClick={() =>\n                            //   this.downloadSong(data._id, data.songName)\n                            // }\n                          >\n                            <span className=\"sng_c\">\n                              <i\n                                className=\"fas fa-ellipsis-h\"\n                                style={{ fontSize: \"1.3rem\" }}\n                              ></i>\n                            </span>\n                            {/* <span\n                              className=\"sng_c\"\n                              style={{ width: \"90%\", textAlign: \"center\" }}\n                            >\n                              <i\n                                className=\"fas fa-download\"\n                                style={{ fontSize: \"1.3rem\" }}\n                              ></i>\n                            </span> */}\n                          </li>\n                        </ul>\n                      </li>\n                    );\n                  })}\n              </ul>\n              <ActionPopover\n                dropdownExpand={rightSideAction}\n                transform={transform}\n                downloadSong={this.downloadSong}\n                addQueue={this.addQueue}\n                // download={this.downloadSong(\n                //   this.state.songId,\n                //   this.state.songName\n                // )}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nconst MapStateToProps = (state) => ({\n  artistDetails: state.home.artistDetails,\n  topCharts: state.home.topCharts,\n  genres: state.home.genresMusic,\n  currentState: state.home.currentData,\n  retroClassics: state.home.retroClassicMusic,\n  activeSongIndex: state.home.activeIndex,\n  downloadUrl: state.home.downloadFile,\n  queueList: state.home.queueSongs,\n});\n\nexport default withRouter(\n  connect(MapStateToProps, {\n    artistsDetails,\n    setMusicData,\n    getChartDetails,\n    genresMusic,\n    retroClassic,\n    hideLoader,\n    downloadSong,\n    getActiveIndex,\n  })(ArtistDetails)\n);\n"]},"metadata":{},"sourceType":"module"}