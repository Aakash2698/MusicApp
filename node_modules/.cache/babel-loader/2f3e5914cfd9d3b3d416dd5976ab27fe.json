{"ast":null,"code":"import _objectSpread from\"/Users/akashsuryavanshi/Dropbox/My Mac (Akashs-iMac.local)/Documents/Tunex Workspace/Git Repo/MusicApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _defineProperty from\"/Users/akashsuryavanshi/Dropbox/My Mac (Akashs-iMac.local)/Documents/Tunex Workspace/Git Repo/MusicApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/akashsuryavanshi/Dropbox/My Mac (Akashs-iMac.local)/Documents/Tunex Workspace/Git Repo/MusicApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/akashsuryavanshi/Dropbox/My Mac (Akashs-iMac.local)/Documents/Tunex Workspace/Git Repo/MusicApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/akashsuryavanshi/Dropbox/My Mac (Akashs-iMac.local)/Documents/Tunex Workspace/Git Repo/MusicApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/akashsuryavanshi/Dropbox/My Mac (Akashs-iMac.local)/Documents/Tunex Workspace/Git Repo/MusicApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Component}from\"react\";import\"./Profile.scss\";import profile from\"../../../Assets/image/profile.jpg\";import{connect}from\"react-redux\";import DropzoneComponent from\"react-dropzone-component\";// import { setUserData } from \"../../../Actions\";\nimport{Dialog}from\"@material-ui/core\";import DialogTitle from\"@material-ui/core/DialogTitle\";// import Dropzone from \"../../ReusableComponents/Dropzone/Dropzone\";\nimport{uploadFileToServer,updateProfileDetails,getUserDetails}from\"../../../Actions\";import global from\"../../../global\";import\"../../../../node_modules/react-dropzone-component/styles/filepicker.css\";import\"../../../../node_modules/dropzone/dist/min/dropzone.min.css\";import Dropzone from\"react-dropzone\";import defaultImage from\"../../../Assets/default.jpg\";var Profile=/*#__PURE__*/function(_Component){_inherits(Profile,_Component);var _super=_createSuper(Profile);function Profile(){var _this;_classCallCheck(this,Profile);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={profileId:\"\",openDialogBox:false,firstName:\"\",lastName:\"\",email:\"\",gender:\"\",profileImage:\"\",image:{preview:defaultImage}};_this.loginData=function(id){_this.props.getUserDetails(id);};_this.handleClickOpen=function(){_this.setState({openDialogBox:true});};_this.handleClose=function(){_this.setState({openDialogBox:false});};_this.handleFileUpload=function(file,id){var _this$setState;console.log(\"handleFileUpload\");_this.setState((_this$setState={},_defineProperty(_this$setState,id,file),_defineProperty(_this$setState,\"isDisabled\",false),_this$setState));};_this.handleRemoveFile=function(id){console.log(\"handleRemoveFile\");_this.setState(_defineProperty({},id,\"\"));};_this.handleChange=function(e){var element=e.target.name;var inputVal=e.target.value;_this.setState(_defineProperty({},element,inputVal));};_this.onRadioHandler=function(e){_this.setState({gender:e.target.value});};_this.handleSubmit=function(e){e.preventDefault();var _this$state=_this.state,firstName=_this$state.firstName,lastName=_this$state.lastName,gender=_this$state.gender,email=_this$state.email,profileImage=_this$state.profileImage,profileId=_this$state.profileId;var payload={firstName:firstName,lastName:lastName,gender:gender,email:email};var formData=new FormData();formData.append(\"myImage\",_this.state.profileImage);if(profileImage===\"\"){_this.props.updateProfileDetails(profileId,payload);}else{_this.props.uploadFileToServer(formData).then(function(res){console.log(\"res\",res);payload.filename=res.responseData.data.filename;_this.props.updateProfileDetails(profileId,payload);}).catch(function(err){console.log(err);});}};_this.onDrop=function(file){var selectFile=file[0];// const image = Object.assign(selectFile, {\n//   preview: URL.createObjectURL(selectFile),\n// });\n_this.setState({profileImage:selectFile});_this.fileToDataUri(selectFile).then(function(dataUri){_this.setState({image:{preview:dataUri}});});};_this.fileToDataUri=function(file){return new Promise(function(resolve,reject){var reader=new FileReader();reader.onload=function(event){resolve(event.target.result);};reader.readAsDataURL(file);});};return _this;}_createClass(Profile,[{key:\"componentDidMount\",value:function componentDidMount(){var id=localStorage.getItem(\"id\");this.loginData(id);}},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){if(this.props!==nextProps){}}},{key:\"render\",value:function render(){var _this2=this;var _this$state2=this.state,id=_this$state2.id,openDialogBox=_this$state2.openDialogBox,profileImage=_this$state2.profileImage,firstName=_this$state2.firstName,lastName=_this$state2.lastName,gender=_this$state2.gender,email=_this$state2.email;return/*#__PURE__*/_jsx(\"div\",{className:\"row section\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-10 mx-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-xl-12 col-md-12\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"genres-heading\",children:\"Profile Details\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card h-auto\",style:{background:\"#343a40\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"form\",{className:\"row\",\"data-toggle\":\"validator\",onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-8 form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstName\",className:\"form-label profile-title\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control bg-main\",style:{width:\"76%\"},name:\"firstName\",placeholder:\"First Name\",value:firstName,onChange:function onChange(e){return _this2.handleChange(e);},maxLength:\"255\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4 right-button\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary btn-air\",onClick:this.handleClickOpen,children:\"Change Password\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lastName\",className:\"form-label profile-title\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control bg-main\",style:{width:\"50%\"},name:\"lastName\",placeholder:\"Last Name\",value:lastName,onChange:function onChange(e){return _this2.handleChange(e);},maxLength:\"255\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"gender\",className:\"form-label profile-title\",children:\"Gender\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"radio-group\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"radio-commom\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"male\",style:{margin:\"0 8px 0 0\"},type:\"radio\",name:\"male\",value:\"Male\",checked:gender===\"Male\",onChange:function onChange(e){return _this2.onRadioHandler(e);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"male\",children:\"Male\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"radio-commom\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"male\",style:{margin:\"0 8px 0 0\"},type:\"radio\",name:\"female\",value:\"Female\",checked:gender===\"Female\",onChange:function onChange(e){return _this2.onRadioHandler(e);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"male\",children:\"Female\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"radio-commom\",children:[/*#__PURE__*/_jsx(\"input\",{style:{margin:\"0 8px 0 0\"},id:\"other\",type:\"radio\",name:\"other\",value:\"Other\",checked:gender===\"Other\",onChange:function onChange(e){return _this2.onRadioHandler(e);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"male\",children:\"Other\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lastName\",className:\"form-label profile-title\",children:\"Email :\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",style:{width:\"50%\"},className:\"form-control bg-main\",name:\"email\",placeholder:\"Email\",value:email,onChange:function onChange(e){return _this2.handleChange(e);},maxLength:\"255\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label profile-title\",children:\"Profile Pic\"}),/*#__PURE__*/_jsx(\"div\",{style:{width:\"50%\"},children:/*#__PURE__*/_jsx(\"div\",{style:{width:\"250px\"},children:/*#__PURE__*/_jsx(Dropzone,{onDrop:function onDrop(acceptedFiles){return _this2.onDrop(acceptedFiles);},children:function children(_ref){var getRootProps=_ref.getRootProps,getInputProps=_ref.getInputProps;return/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({},getRootProps({className:\"dropzone\"})),{},{children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},getInputProps()),{},{name:\"studentImage\"})),/*#__PURE__*/_jsx(\"div\",{className:\"dropzone-image\",children:/*#__PURE__*/_jsx(\"img\",{// alt=\"profile\"\nsrc:_this2.state.image.preview})})]}))});}})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",style:{padding:\"20px 20px 40px 20px\"},children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary btn-air\",children:\"Save Changes\"})})]}),/*#__PURE__*/_jsx(Dialog,{open:openDialogBox,onClose:this.handleClose,id:\"simple-dialog-title\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dialog-header\",style:{padding:\"1rem 2rem\"},children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title mb-1\",children:\"Change Password\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",style:{padding:\"2rem\"},children:/*#__PURE__*/_jsxs(\"form\",{action:\"#\",className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 pd-bottom\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"current-pwd\",className:\"form-label profile-title\",children:\"Current Password\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control bg-main\",type:\"text\",id:\"firstName\",name:\"firstName\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 pd-bottom\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"current-pwd\",className:\"form-label profile-title\",children:\"New Password\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control bg-main\",type:\"text\",id:\"firstName\",name:\"firstName\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 pd-bottom\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"current-pwd\",className:\"form-label profile-title\",children:\"Confirm New Password\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control bg-main\",type:\"text\",id:\"firstName\",name:\"firstName\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"action-flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary btn-air\",children:\"Submit\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary btn-air\",onClick:this.handleClose,children:\"Cancel\"})})]})]})})]})})]})})]})})})});}}]);return Profile;}(Component);Profile.contextType=global.LoaderContext;var MapStateToProps=function MapStateToProps(state){return{profileData:state.auth.userData};};export default connect(MapStateToProps,{uploadFileToServer:uploadFileToServer,updateProfileDetails:updateProfileDetails,getUserDetails:getUserDetails})(Profile);","map":{"version":3,"sources":["/Users/akashsuryavanshi/Dropbox/My Mac (Akashs-iMac.local)/Documents/Tunex Workspace/Git Repo/MusicApp/src/Components/ContentComponents/Profile/Profile.jsx"],"names":["React","Component","profile","connect","DropzoneComponent","Dialog","DialogTitle","uploadFileToServer","updateProfileDetails","getUserDetails","global","Dropzone","defaultImage","Profile","state","profileId","openDialogBox","firstName","lastName","email","gender","profileImage","image","preview","loginData","id","props","handleClickOpen","setState","handleClose","handleFileUpload","file","console","log","handleRemoveFile","handleChange","e","element","target","name","inputVal","value","onRadioHandler","handleSubmit","preventDefault","payload","formData","FormData","append","then","res","filename","responseData","data","catch","err","onDrop","selectFile","fileToDataUri","dataUri","Promise","resolve","reject","reader","FileReader","onload","event","result","readAsDataURL","localStorage","getItem","nextProps","background","width","margin","acceptedFiles","getRootProps","getInputProps","className","padding","contextType","LoaderContext","MapStateToProps","profileData","auth","userData"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./Profile.scss\";\nimport profile from \"../../../Assets/image/profile.jpg\";\nimport { connect } from \"react-redux\";\nimport DropzoneComponent from \"react-dropzone-component\";\n// import { setUserData } from \"../../../Actions\";\nimport { Dialog } from \"@material-ui/core\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\n// import Dropzone from \"../../ReusableComponents/Dropzone/Dropzone\";\nimport {\n  uploadFileToServer,\n  updateProfileDetails,\n  getUserDetails,\n} from \"../../../Actions\";\nimport global from \"../../../global\";\nimport \"../../../../node_modules/react-dropzone-component/styles/filepicker.css\";\nimport \"../../../../node_modules/dropzone/dist/min/dropzone.min.css\";\nimport Dropzone from \"react-dropzone\";\nimport defaultImage from \"../../../Assets/default.jpg\";\n\nclass Profile extends Component {\n  static contextType = global.LoaderContext;\n  state = {\n    profileId: \"\",\n    openDialogBox: false,\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n    gender: \"\",\n    profileImage: \"\",\n    image: {\n      preview: defaultImage,\n    },\n  };\n  componentDidMount() {\n    let id = localStorage.getItem(\"id\");\n    this.loginData(id);\n  }\n\n  loginData = (id) => {\n    this.props.getUserDetails(id);\n  };\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props !== nextProps) {\n    }\n  }\n\n  handleClickOpen = () => {\n    this.setState({\n      openDialogBox: true,\n    });\n  };\n\n  handleClose = () => {\n    this.setState({\n      openDialogBox: false,\n    });\n  };\n\n  handleFileUpload = (file, id) => {\n    console.log(\"handleFileUpload\");\n    this.setState({\n      [id]: file,\n      isDisabled: false,\n    });\n  };\n\n  handleRemoveFile = (id) => {\n    console.log(\"handleRemoveFile\");\n    this.setState({\n      [id]: \"\",\n    });\n  };\n\n  handleChange = (e) => {\n    var element = e.target.name;\n    let inputVal = e.target.value;\n    this.setState({\n      [element]: inputVal,\n    });\n  };\n\n  onRadioHandler = (e) => {\n    this.setState({\n      gender: e.target.value,\n    });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    let {\n      firstName,\n      lastName,\n      gender,\n      email,\n      profileImage,\n      profileId,\n    } = this.state;\n\n    let payload = {\n      firstName: firstName,\n      lastName: lastName,\n      gender: gender,\n      email: email,\n    };\n\n    const formData = new FormData();\n    formData.append(\"myImage\", this.state.profileImage);\n    if (profileImage === \"\") {\n      this.props.updateProfileDetails(profileId, payload);\n    } else {\n      this.props\n        .uploadFileToServer(formData)\n        .then((res) => {\n          console.log(\"res\", res);\n          payload.filename = res.responseData.data.filename;\n          this.props.updateProfileDetails(profileId, payload);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  };\n\n  onDrop = (file) => {\n    let selectFile = file[0];\n    // const image = Object.assign(selectFile, {\n    //   preview: URL.createObjectURL(selectFile),\n    // });\n\n    this.setState({\n      profileImage: selectFile,\n    });\n\n    this.fileToDataUri(selectFile).then((dataUri) => {\n      this.setState({\n        image: {\n          preview: dataUri,\n        },\n      });\n    });\n  };\n  fileToDataUri = (file) =>\n    new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = (event) => {\n        resolve(event.target.result);\n      };\n      reader.readAsDataURL(file);\n    });\n\n  render() {\n    const {\n      id,\n      openDialogBox,\n      profileImage,\n      firstName,\n      lastName,\n      gender,\n      email,\n    } = this.state;\n    return (\n      <div className=\"row section\">\n        <div className=\"col-xl-10 mx-auto\">\n          <div className=\"row\">\n            <div className=\"col-xl-12 col-md-12\">\n              <h1 className=\"genres-heading\">Profile Details</h1>\n              <div className=\"card h-auto\" style={{ background: \"#343a40\" }}>\n                <div className=\"card-body\">\n                  <form\n                    className=\"row\"\n                    data-toggle=\"validator\"\n                    onSubmit={this.handleSubmit}\n                  >\n                    <div className=\"col-8 form-group\">\n                      <label\n                        htmlFor=\"firstName\"\n                        className=\"form-label profile-title\"\n                      >\n                        First Name\n                      </label>\n                      <input\n                        type=\"text\"\n                        className=\"form-control bg-main\"\n                        style={{ width: \"76%\" }}\n                        name=\"firstName\"\n                        placeholder=\"First Name\"\n                        value={firstName}\n                        onChange={(e) => this.handleChange(e)}\n                        maxLength=\"255\"\n                      />\n                      {/* <label\n                        htmlFor=\"Name\"\n                        className=\"form-label\"\n                        style={{ color: \"#adb5bd\", paddingLeft: \"5px\" }}\n                      >\n                        {this.props.profileData.firstName}\n                      </label> */}\n                    </div>\n                    <div className=\"col-4 right-button\">\n                      <button\n                        type=\"button\"\n                        className=\"btn btn-primary btn-air\"\n                        onClick={this.handleClickOpen}\n                      >\n                        Change Password\n                      </button>\n                    </div>\n                    <div className=\"col-12 form-group\">\n                      <label\n                        htmlFor=\"lastName\"\n                        className=\"form-label profile-title\"\n                      >\n                        Last Name\n                      </label>\n                      <input\n                        type=\"text\"\n                        className=\"form-control bg-main\"\n                        style={{ width: \"50%\" }}\n                        name=\"lastName\"\n                        placeholder=\"Last Name\"\n                        value={lastName}\n                        onChange={(e) => this.handleChange(e)}\n                        maxLength=\"255\"\n                      />\n                      {/* <label\n                        htmlFor=\"lastName\"\n                        className=\"form-label\"\n                        style={{ color: \"#adb5bd\", paddingLeft: \"5px\" }}\n                      >\n                        {this.props.profileData.lastName}\n                      </label> */}\n                    </div>\n                    <div className=\"col-12 form-group\">\n                      <label\n                        htmlFor=\"gender\"\n                        className=\"form-label profile-title\"\n                      >\n                        Gender\n                      </label>\n                      <div className=\"radio-group\">\n                        <div className=\"radio-commom\">\n                          <input\n                            id=\"male\"\n                            style={{ margin: \"0 8px 0 0\" }}\n                            type=\"radio\"\n                            name=\"male\"\n                            value=\"Male\"\n                            checked={gender === \"Male\"}\n                            onChange={(e) => this.onRadioHandler(e)}\n                          />\n                          <label htmlFor=\"male\">Male</label>\n                        </div>\n                        <div className=\"radio-commom\">\n                          <input\n                            id=\"male\"\n                            style={{ margin: \"0 8px 0 0\" }}\n                            type=\"radio\"\n                            name=\"female\"\n                            value=\"Female\"\n                            checked={gender === \"Female\"}\n                            onChange={(e) => this.onRadioHandler(e)}\n                          />\n                          <label htmlFor=\"male\">Female</label>\n                        </div>\n                        <div className=\"radio-commom\">\n                          <input\n                            style={{ margin: \"0 8px 0 0\" }}\n                            id=\"other\"\n                            type=\"radio\"\n                            name=\"other\"\n                            value=\"Other\"\n                            checked={gender === \"Other\"}\n                            onChange={(e) => this.onRadioHandler(e)}\n                          />\n                          <label htmlFor=\"male\">Other</label>\n                        </div>\n                      </div>\n                    </div>\n                    {/* <div className=\"col-12 form-group\">\n                      <label\n                        htmlFor=\"lastName\"\n                        className=\"form-label profile-title\"\n                      >\n                        Gender :\n                      </label>\n                      <label\n                        htmlFor=\"lastName\"\n                        className=\"form-label\"\n                        style={{ color: \"#adb5bd\", paddingLeft: \"5px\" }}\n                      >\n                        {this.props.profileData.gender}\n                      </label>\n                    </div> */}\n                    <div className=\"col-12 form-group\">\n                      <label\n                        htmlFor=\"lastName\"\n                        className=\"form-label profile-title\"\n                      >\n                        Email :\n                      </label>\n                      <input\n                        type=\"text\"\n                        style={{ width: \"50%\" }}\n                        className=\"form-control bg-main\"\n                        name=\"email\"\n                        placeholder=\"Email\"\n                        value={email}\n                        onChange={(e) => this.handleChange(e)}\n                        maxLength=\"255\"\n                      />\n                      {/* <label\n                        htmlFor=\"lastName\"\n                        className=\"form-label\"\n                        style={{ color: \"#adb5bd\", paddingLeft: \"5px\" }}\n                      >\n                        {this.props.profileData.email}\n                      </label> */}\n                    </div>\n                    <div className=\"col-12 form-group\">\n                      <label className=\"form-label profile-title\">\n                        Profile Pic\n                      </label>\n                      <div style={{ width: \"50%\" }}>\n                        <div style={{ width: \"250px\" }}>\n                          <Dropzone\n                            onDrop={(acceptedFiles) =>\n                              this.onDrop(acceptedFiles)\n                            }\n                          >\n                            {({ getRootProps, getInputProps }) => (\n                              <section>\n                                <div\n                                  {...getRootProps({ className: \"dropzone\" })}\n                                >\n                                  <input\n                                    {...getInputProps()}\n                                    name=\"studentImage\"\n                                  />\n                                  <div className=\"dropzone-image\">\n                                    <img\n                                      // alt=\"profile\"\n                                      src={this.state.image.preview}\n                                    />\n                                  </div>\n                                  {/* <p style={{ color: \"#adb5bd\" }}>\n                                    Drag 'n' drop some files here, or click to\n                                    select files\n                                  </p> */}\n                                </div>\n                              </section>\n                            )}\n                          </Dropzone>\n                        </div>\n\n                        {/* <div className=\"col-md-12\">\n                          <DropzoneComponent\n                            config={componentConfig}\n                            eventHandlers={eventHandlers}\n                            djsConfig={djsConfig}\n                          />\n                        </div> */}\n                        {/* <Dropzone\n                          onRef={(ref) => (this.profileImage = ref)}\n                          id=\"profileImage\"\n                          addFile={this.handleFileUpload}\n                          imageUrl={profileImage}\n                          removeFile={this.handleRemoveFile}\n                          isEdit={true}\n                          minCropBoxHeight={200}\n                          minCropBoxWidth={200}\n                        /> */}\n                      </div>\n                    </div>\n                    <div\n                      className=\"col-12\"\n                      style={{ padding: \"20px 20px 40px 20px\" }}\n                    >\n                      <button type=\"submit\" className=\"btn btn-primary btn-air\">\n                        Save Changes\n                      </button>\n                    </div>\n                  </form>\n\n                  <Dialog\n                    open={openDialogBox}\n                    onClose={this.handleClose}\n                    id=\"simple-dialog-title\"\n                  >\n                    <div className=\"modal-content\">\n                      <div\n                        className=\"dialog-header\"\n                        style={{ padding: \"1rem 2rem\" }}\n                      >\n                        <div>\n                          <h5 className=\"modal-title mb-1\">Change Password</h5>\n                        </div>\n                      </div>\n                      <div className=\"modal-body\" style={{ padding: \"2rem\" }}>\n                        <form action=\"#\" className=\"row\">\n                          <div className=\"col-12 pd-bottom\">\n                            <label\n                              htmlFor=\"current-pwd\"\n                              className=\"form-label profile-title\"\n                            >\n                              Current Password\n                            </label>\n                            <input\n                              className=\"form-control bg-main\"\n                              type=\"text\"\n                              id=\"firstName\"\n                              name=\"firstName\"\n                            />\n                          </div>\n                          <div className=\"col-12 pd-bottom\">\n                            <label\n                              htmlFor=\"current-pwd\"\n                              className=\"form-label profile-title\"\n                            >\n                              New Password\n                            </label>\n                            <input\n                              className=\"form-control bg-main\"\n                              type=\"text\"\n                              id=\"firstName\"\n                              name=\"firstName\"\n                            />\n                          </div>\n                          <div className=\"col-12 pd-bottom\">\n                            <label\n                              htmlFor=\"current-pwd\"\n                              className=\"form-label profile-title\"\n                            >\n                              Confirm New Password\n                            </label>\n                            <input\n                              className=\"form-control bg-main\"\n                              type=\"text\"\n                              id=\"firstName\"\n                              name=\"firstName\"\n                            />\n                          </div>\n                          <div className=\"action-flex\">\n                            <div className=\"col-6\">\n                              <button\n                                type=\"button\"\n                                className=\"btn btn-primary btn-air\"\n                              >\n                                Submit\n                              </button>\n                            </div>\n                            <div className=\"col-6\">\n                              <button\n                                type=\"button\"\n                                className=\"btn btn-primary btn-air\"\n                                onClick={this.handleClose}\n                              >\n                                Cancel\n                              </button>\n                            </div>\n                          </div>\n                        </form>\n                      </div>\n                    </div>\n                  </Dialog>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst MapStateToProps = (state) => ({\n  profileData: state.auth.userData,\n});\n\nexport default connect(MapStateToProps, {\n  uploadFileToServer,\n  updateProfileDetails,\n  getUserDetails,\n})(Profile);\n"]},"metadata":{},"sourceType":"module"}