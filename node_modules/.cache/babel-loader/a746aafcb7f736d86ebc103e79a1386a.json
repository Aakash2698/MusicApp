{"ast":null,"code":"import SetAuthToken from \"../Utils/SetAuthToken\";\nimport jwt_decode from \"jwt-decode\";\nimport history from \"../history\";\nimport { SET_CURRENT_USER, USER_LOADING, SHOW_LOADER, HIDE_LOADER, USER_DATA } from \"../ActionTypes/ActionTypes.jsx\";\nexport const loginUser = payload => (dispatch, getState, Api) => {\n  return Api.post(\"login\", payload, \"header\").then(res => {\n    if (res.response.status === 201) {\n      let token = res.responseData.token;\n      localStorage.setItem(\"jwtToken\", token);\n      SetAuthToken(token);\n      const decoded = jwt_decode(token);\n      dispatch(setCurrentUser(decoded));\n    }\n\n    return res;\n  });\n};\nexport const googleLogin = payload => (dispatch, getState, Api) => {\n  return Api.post(\"google-login\", payload, \"header\").then(res => {\n    console.log(res);\n\n    if (res.response.status === 200) {\n      const token = res.responseData.token;\n      const userData = res.responseData.token;\n      localStorage.setItem(\"jwtToken\", token);\n      localStorage.setItem(\"UserData\", userData);\n      SetAuthToken(token);\n      SetAuthToken(userData);\n      const decoded = jwt_decode(token);\n      dispatch(setCurrentUser(decoded));\n    }\n\n    return res;\n  });\n};\nexport const registerUser = payload => (dispatch, getState, Api) => {\n  return Api.post(\"register\", payload, \"header\").then(res => {\n    // if (res.response.status === 201) {\n    // }\n    return res;\n  });\n};\nexport const setCurrentUser = decoded => {\n  return {\n    type: SET_CURRENT_USER,\n    payload: decoded\n  };\n};\nexport const setUserLoading = () => {\n  return {\n    type: USER_LOADING\n  };\n};\nexport const logoutUser = () => dispatch => {\n  localStorage.removeItem(\"jwtToken\");\n  SetAuthToken(false);\n  dispatch(setCurrentUser({}));\n};\nexport const logoutSuccess = () => {\n  // global.check_Auth(history);\n  localStorage.clear();\n  history.push(\"/login\"); // logoutFirebase();\n\n  return {\n    type: LOGOUT\n  };\n};\nexport const showLoader = () => dispatch => {\n  dispatch({\n    type: SHOW_LOADER\n  });\n  window.setTimeout(() => {\n    dispatch({\n      type: HIDE_LOADER\n    });\n  }, 500);\n};\nexport const hideLoader = () => dispatch => {\n  dispatch({\n    type: HIDE_LOADER\n  });\n};\nexport const setUserData = payload => dispatch => {\n  return dispatch({\n    type: USER_DATA,\n    payload: payload\n  });\n};","map":{"version":3,"sources":["/Users/akashsuryavanshi/Dropbox/My Mac (Akashs-iMac.local)/Documents/Tunex Workspace/Git Repo/MusicApp/src/Actions/Auth.jsx"],"names":["SetAuthToken","jwt_decode","history","SET_CURRENT_USER","USER_LOADING","SHOW_LOADER","HIDE_LOADER","USER_DATA","loginUser","payload","dispatch","getState","Api","post","then","res","response","status","token","responseData","localStorage","setItem","decoded","setCurrentUser","googleLogin","console","log","userData","registerUser","type","setUserLoading","logoutUser","removeItem","logoutSuccess","clear","push","LOGOUT","showLoader","window","setTimeout","hideLoader","setUserData"],"mappings":"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","sourcesContent":["import SetAuthToken from \"../Utils/SetAuthToken\";\nimport jwt_decode from \"jwt-decode\";\nimport history from \"../history\";\n\nimport {\n  SET_CURRENT_USER,\n  USER_LOADING,\n  SHOW_LOADER,\n  HIDE_LOADER,\n  USER_DATA,\n} from \"../ActionTypes/ActionTypes.jsx\";\n\nexport const loginUser = (payload) => (dispatch, getState, Api) => {\n  return Api.post(\"login\", payload, \"header\").then((res) => {\n    if (res.response.status === 201) {\n      let token = res.responseData.token;\n      localStorage.setItem(\"jwtToken\", token);\n      SetAuthToken(token);\n      const decoded = jwt_decode(token);\n      dispatch(setCurrentUser(decoded));\n    }\n    return res;\n  });\n};\n\nexport const googleLogin = (payload) => (dispatch, getState, Api) => {\n  return Api.post(\"google-login\", payload, \"header\").then((res) => {\n    console.log(res);\n    if (res.response.status === 200) {\n      const token = res.responseData.token;\n      const userData = res.responseData.token;\n      localStorage.setItem(\"jwtToken\", token);\n      localStorage.setItem(\"UserData\", userData);\n      SetAuthToken(token);\n      SetAuthToken(userData);\n      const decoded = jwt_decode(token);\n      dispatch(setCurrentUser(decoded));\n    }\n    return res;\n  });\n};\n\nexport const registerUser = (payload) => (dispatch, getState, Api) => {\n  return Api.post(\"register\", payload, \"header\").then((res) => {\n    // if (res.response.status === 201) {\n\n    // }\n    return res;\n  });\n};\n\nexport const setCurrentUser = (decoded) => {\n  return {\n    type: SET_CURRENT_USER,\n    payload: decoded,\n  };\n};\n\nexport const setUserLoading = () => {\n  return {\n    type: USER_LOADING,\n  };\n};\n\nexport const logoutUser = () => (dispatch) => {\n  localStorage.removeItem(\"jwtToken\");\n  SetAuthToken(false);\n  dispatch(setCurrentUser({}));\n};\n\nexport const logoutSuccess = () => {\n  // global.check_Auth(history);\n  localStorage.clear();\n  history.push(\"/login\");\n  // logoutFirebase();\n  return {\n    type: LOGOUT,\n  };\n};\n\nexport const showLoader = () => (dispatch) => {\n  dispatch({\n    type: SHOW_LOADER,\n  });\n  window.setTimeout(() => {\n    dispatch({\n      type: HIDE_LOADER,\n    });\n  }, 500);\n};\n\nexport const hideLoader = () => (dispatch) => {\n  dispatch({\n    type: HIDE_LOADER,\n  });\n};\n\nexport const setUserData = (payload) => (dispatch) => {\n  return dispatch({\n    type: USER_DATA,\n    payload: payload,\n  });\n};\n"]},"metadata":{},"sourceType":"module"}